# -*- coding: utf-8 -*-
'''
Created on 2014-07-07
@author: hmarrao & david
Module containing  the needed controllers that define the Mobile APÎ.
'''

# SERVER
from bottle import route, template
from json import dumps

# LOCAL
from dbpreciosesmanager import priceAppli
from controllers.priceprofor_graficas import findLastDayDocumentTechnology, tecnologiasDiarias

@route('/priceprofor/rest/help', method=['GET'])
def helpinfo():
    '''
    Ayuda de como usar la API:
    '''
    print 'GET'

#     return "Esta es la Página de Ayuda."
    return template('infoutil.html')

@route('/priceprofor/rest/main', method=['GET'])
def maininfo():
    '''
    Main page info and information:
        the last 3 days available in the database.
        each day will include info of: 
        marketvalues = [0 for i in range(24)]
        horamax = {hora: [0-23], precio: float2}
        horamin = {precio: [0-23], precio: float2}

    So last values are:
        YYYY-mm-dd = dict ( marketvalues = [0 for i in range(24)],
                            horamax = {hora: [0-23], precio: float},
                            horamin = {precio: [0-23], precio: float} )
    '''
    print 'GET'

#     valores = dict()
#     valores['2014-07-07'] = {}
#     valores['2014-07-07']['mercado'] = [0 for i in range(24)]
#     valores['2014-07-07']['horamax'] = {'hora' : 15, 'precio': 20.00}
#     valores['2014-07-07']['horamin'] = {'hora' : 5 , 'precio': 10.00}
#     # defining response to format things and give the proper anwser.
#     # as result is already a dict no need to perform conversion
#     # to the data values.
#     # return valores

    priceDic = priceAppli()

    return priceDic

@route('/priceprofor/rest/arrayToDataTable', method=['GET'])
def arrayToDataTable():
    '''
    '''
    arrayTDT = [['Fechayhora', 'Datos', 'Modelo', 'Prediccion', {'role': 'interval', 'type': 'number'}, {'role': 'interval', 'type': 'number'}], ['2014/05/30 00:00', 54.7, 34.6081986856246, None, None, None], ['2014/05/30 01:00', 49.09, 30.893760328679402, None, None, None], ['2014/05/30 02:00', 46.58, 30.133627702774934, None, None, None], ['2014/05/30 03:00', 45.4, 27.794765863241846, None, None, None], ['2014/05/30 04:00', 44.25, 28.020351925341423, None, None, None], ['2014/05/30 05:00', 44.25, 27.66659448549535, None, None, None], ['2014/05/30 06:00', 45.4, 35.25616848463523, None, None, None], ['2014/05/30 07:00', 49.6, 46.8688706603331, None, None, None], ['2014/05/30 08:00', 55.0, 55.584178835327236, None, None, None], ['2014/05/30 09:00', 55.96, 55.272363994448355, None, None, None], ['2014/05/30 10:00', 54.74, 51.296031990382374, None, None, None], ['2014/05/30 11:00', 54.74, 50.69634353741497, None, None, None], ['2014/05/30 12:00', 55.96, 48.557785206036456, None, None, None], ['2014/05/30 13:00', 56.13, 47.032217726170934, None, None, None], ['2014/05/30 14:00', 52.69, 42.90317509187583, None, None, None], ['2014/05/30 15:00', 51.04, 40.32600467198373, None, None, None], ['2014/05/30 16:00', 49.53, 42.519492347611354, None, None, None], ['2014/05/30 17:00', 47.93, 44.51752632387348, None, None, None], ['2014/05/30 18:00', 46.58, 44.16111553588979, None, None, None], ['2014/05/30 19:00', 47.11, 42.50799782909118, None, None, None], ['2014/05/30 20:00', 49.09, 45.83030259078041, None, None, None], ['2014/05/30 21:00', 50.93, 51.47385261962219, None, None, None], ['2014/05/30 22:00', 50.3, 44.46669006706021, None, None, None], ['2014/05/30 23:00', 47.5, 46.84217418289154, None, None, None], ['2014/05/31 00:00', 48.6, 54.23030256589536, None, None, None], ['2014/05/31 01:00', 48.48, 51.784549279329696, None, None, None], ['2014/05/31 02:00', 44.25, 45.804395007057146, None, None, None], ['2014/05/31 03:00', 44.21, 52.22744443467042, None, None, None], ['2014/05/31 04:00', 41.26, 39.64366953332544, None, None, None], ['2014/05/31 05:00', 41.26, 50.76552305692392, None, None, None], ['2014/05/31 06:00', 42.0, 48.40366848463523, None, None, None], ['2014/05/31 07:00', 44.2, 46.848870660333105, None, None, None], ['2014/05/31 08:00', 44.2, 46.55292883532724, None, None, None], ['2014/05/31 09:00', 44.22, 49.597899708734076, None, None, None], ['2014/05/31 10:00', 44.25, 49.83603199038236, None, None, None], ['2014/05/31 11:00', 45.0, 50.68634353741496, None, None, None], ['2014/05/31 12:00', 47.8, 54.426356634607856, None, None, None], ['2014/05/31 13:00', 50.52, 58.2979320118852, None, None, None], ['2014/05/31 14:00', 47.16, 58.40692509187583, None, None, None], ['2014/05/31 15:00', 44.24, 57.88850467198374, None, None, None], ['2014/05/31 16:00', 41.95, 53.453940718017776, None, None, None], ['2014/05/31 17:00', 41.26, 52.235608715873205, None, None, None], ['2014/05/31 18:00', 39.12, 51.48936578962459, None, None, None], ['2014/05/31 19:00', 41.26, 54.44939764948355, None, None, None], ['2014/05/31 20:00', 44.22, 60.46871137972462, None, None, None], ['2014/05/31 21:00', 44.23, 62.51927505398392, None, None, None], ['2014/05/31 22:00', 44.22, 62.23655618726731, None, None, None], ['2014/05/31 23:00', 44.21, 62.69038846860585, None, None, None], ['2014/06/01 00:00', 36.5, 58.281225287574955, None, None, None], ['2014/06/01 01:00', 32.0, 55.4820743656713, None, None, None], ['2014/06/01 02:00', 29.8, 49.89892031969981, None, None, None], ['2014/06/01 03:00', 30.0, 52.284408720384704, None, None, None], ['2014/06/01 04:00', 30.0, 51.13866513422998, None, None, None], ['2014/06/01 05:00', 30.4, 50.951237342638194, None, None, None], ['2014/06/01 06:00', 30.13, 48.075097056063804, None, None, None], ['2014/06/01 07:00', 27.5, 51.37047780319024, None, None, None], ['2014/06/01 08:00', 32.0, 52.34364312104153, None, None, None], ['2014/06/01 09:00', 33.9, 53.09879256587693, None, None, None], ['2014/06/01 10:00', 38.5, 56.093353418953804, None, None, None], ['2014/06/01 11:00', 44.2, 57.85848639455782, None, None, None], ['2014/06/01 12:00', 44.21, 60.505642348893566, None, None, None], ['2014/06/01 13:00', 44.24, 60.51418201188522, None, None, None], ['2014/06/01 14:00', 44.21, 57.18728223473297, None, None, None], ['2014/06/01 15:00', 40.0, 53.92154038626945, None, None, None], ['2014/06/01 16:00', 35.34, 55.77038659662798, None, None, None], ['2014/06/01 17:00', 35.0, 55.997585671288256, None, None, None], ['2014/06/01 18:00', 35.0, 55.85101066032324, None, None, None], ['2014/06/01 19:00', 43.0, 56.26592457360239, None, None, None], ['2014/06/01 20:00', 44.25, 54.716265038961275, None, None, None], ['2014/06/01 21:00', 54.74, 64.42442981002053, None, None, None], ['2014/06/01 22:00', 56.86, 85.57689389781626, None, None, None], ['2014/06/01 23:00', 53.0, 56.57842418289153, None, None, None], ['2014/06/02 00:00', 45.5, 57.54739645882975, None, None, None], ['2014/06/02 01:00', 44.21, 55.131240030465, None, None, None], ['2014/06/02 02:00', 39.0, 52.86342234413929, None, None, None], ['2014/06/02 03:00', 39.0, 39.15155157752756, None, None, None], ['2014/06/02 04:00', 39.1, 52.81729160782449, None, None, None], ['2014/06/02 05:00', 44.21, 39.42034448549534, None, None, None], ['2014/06/02 06:00', 47.23, 43.11027562749237, None, None, None], ['2014/06/02 07:00', 46.58, 41.15869208890453, None, None, None], ['2014/06/02 08:00', 50.8, 51.60453597818438, None, None, None], ['2014/06/02 09:00', 54.1, 51.77736399444835, None, None, None], ['2014/06/02 10:00', 54.55, 51.56299627609664, None, None, None], ['2014/06/02 11:00', 54.74, 54.23741496598639, None, None, None], ['2014/06/02 12:00', 55.02, 53.06707092032215, None, None, None], ['2014/06/02 13:00', 54.87, 50.847217726170925, None, None, None], ['2014/06/02 14:00', 54.3, 49.129246520447246, None, None, None], ['2014/06/02 15:00', 52.7, 45.800468957698016, None, None, None], ['2014/06/02 16:00', 52.6, 45.324982313126256, None, None, None], ['2014/06/02 17:00', 51.48, 46.678483121030425, None, None, None], ['2014/06/02 18:00', 50.3, 44.922882581736815, None, None, None], ['2014/06/02 19:00', 50.27, 49.39720971241658, None, None, None], ['2014/06/02 20:00', 50.27, 43.64678261165378, None, None, None], ['2014/06/02 21:00', 54.55, 45.86431909906655, None, None, None], ['2014/06/02 22:00', 53.0, 43.366461686330105, None, None, None], ['2014/06/02 23:00', 49.06, 47.86770989717727, None, None, None], ['2014/06/03 00:00', 50.8, 50.67814694293074, None, None, None], ['2014/06/03 01:00', 48.6, 48.852561309619425, None, None, None], ['2014/06/03 02:00', 46.55, 48.69829092206204, None, None, None], ['2014/06/03 03:00', 46.23, 38.04351586324185, None, None, None], ['2014/06/03 04:00', 45.4, 49.160589463441546, None, None, None], ['2014/06/03 05:00', 46.55, 44.34034448549535, None, None, None], ['2014/06/03 06:00', 53.0, 47.955454198920954, None, None, None], ['2014/06/03 07:00', 54.5, 47.3876206603331, None, None, None], ['2014/06/03 08:00', 55.96, 51.97364312104152, None, None, None], ['2014/06/03 09:00', 56.74, 55.49754256587694, None, None, None], ['2014/06/03 10:00', 58.0, 55.769424847525215, None, None, None], ['2014/06/03 11:00', 56.34, 56.245450680272114, None, None, None], ['2014/06/03 12:00', 56.68, 57.21635663460788, None, None, None], ['2014/06/03 13:00', 55.96, 56.86293201188521, None, None, None], ['2014/06/03 14:00', 53.0, 55.41246080616155, None, None, None], ['2014/06/03 15:00', 50.3, 54.48082610055518, None, None, None], ['2014/06/03 16:00', 49.0, 52.783559628452686, None, None, None], ['2014/06/03 17:00', 48.94, 52.37181279148194, None, None, None], ['2014/06/03 18:00', 48.47, 51.07194745779705, None, None, None], ['2014/06/03 19:00', 48.97, 53.824948183888594, None, None, None], ['2014/06/03 20:00', 49.07, 57.71981049382996, None, None, None], ['2014/06/03 21:00', 53.0, 59.42406708762691, None, None, None], ['2014/06/03 22:00', 51.0, 54.43111366194731, None, None, None], ['2014/06/03 23:00', 46.0, 52.05860275432012, None, None, None], ['2014/06/04 00:00', 47.48, 52.286813108782496, None, None, None], ['2014/06/04 01:00', 44.95, 51.63151457197448, None, None, None], ['2014/06/04 02:00', 44.21, 47.2985684859604, None, None, None], ['2014/06/04 03:00', 44.21, 46.77976586324185, None, None, None], ['2014/06/04 04:00', 43.76, 48.862893645269224, None, None, None], ['2014/06/04 05:00', 44.21, 46.63391591406677, None, None, None], ['2014/06/04 06:00', 46.58, 54.88295419892094, None, None, None], ['2014/06/04 07:00', 48.6, 59.36190637461881, None, None, None], ['2014/06/04 08:00', 53.2, 60.06775026389868, None, None, None], ['2014/06/04 09:00', 53.23, 60.66039970873406, None, None, None], ['2014/06/04 10:00', 53.23, 62.8583534189538, None, None, None], ['2014/06/04 11:00', 53.23, 63.13223639455783, None, None, None], ['2014/06/04 12:00', 53.48, 64.01778520603644, None, None, None], ['2014/06/04 13:00', 53.0, 63.98436058331379, None, None, None], ['2014/06/04 14:00', 48.6, 62.036210806161534, None, None, None], ['2014/06/04 15:00', 48.11, 59.37618324341231, None, None, None], ['2014/06/04 16:00', 49.23, 58.98076009882335, None, None, None], ['2014/06/04 17:00', 51.57, 58.191411431095425, None, None, None], ['2014/06/04 18:00', 51.27, 55.07447499378408, None, None, None], ['2014/06/04 19:00', 52.65, 52.6270404333615, None, None, None], ['2014/06/04 20:00', 53.48, 46.383875040690796, None, None, None], ['2014/06/04 21:00', 56.12, 50.33511253887059, None, None, None], ['2014/06/04 22:00', 56.74, 48.899306715164265, None, None, None], ['2014/06/04 23:00', 54.87, 44.51235275432011, None, None, None], ['2014/06/05 00:00', 54.7, 50.17234366234551, None, None, None], ['2014/06/05 01:00', 53.3, 50.04993062328865, None, None, None], ['2014/06/05 02:00', 50.01, 46.98562057490885, None, None, None], ['2014/06/05 03:00', 49.48, 44.96030157752757, None, None, None], ['2014/06/05 04:00', 48.6, 48.126632648480935, None, None, None], ['2014/06/05 05:00', 48.6, 44.30320162835249, None, None, None], ['2014/06/05 06:00', 53.49, 46.925811341778086, None, None, None], ['2014/06/05 07:00', 53.1, 50.180299231761666, None, None, None], ['2014/06/05 08:00', 55.5, 52.27685740675581, None, None, None], ['2014/06/05 09:00', 55.5, 52.92807828016262, None, None, None], ['2014/06/05 10:00', 55.96, 51.85978199038237, None, None, None], ['2014/06/05 11:00', 57.0, 50.86437925170066, None, None, None], ['2014/06/05 12:00', 57.0, 52.0786780631793, None, None, None], ['2014/06/05 13:00', 55.3, 50.93632486902806, None, None, None], ['2014/06/05 14:00', 50.6, 45.35924652044727, None, None, None], ['2014/06/05 15:00', 46.58, 43.57689752912658, None, None, None], ['2014/06/05 16:00', 47.48, 44.748294959204415, None, None, None], ['2014/06/05 17:00', 50.0, 46.94254027402778, None, None, None], ['2014/06/05 18:00', 49.48, 48.04653358516495, None, None, None], ['2014/06/05 19:00', 51.02, 50.34628193946503, None, None, None], ['2014/06/05 20:00', 53.3, 53.719485767279146, None, None, None], ['2014/06/05 21:00', 55.5, 58.4495642253911, None, None, None], ['2014/06/05 22:00', 55.96, 55.947033842777884, None, None, None], ['2014/06/05 23:00', 52.0, 54.26895989717727, None, None, None], ['2014/06/06 00:00', None, None, 53.09554946742104, 41.62, 64.57], ['2014/06/06 01:00', None, None, 49.637466917858866, 37.92, 61.35], ['2014/06/06 02:00', None, None, 48.59861624339531, 37.02, 60.18], ['2014/06/06 03:00', None, None, 50.03262300609899, 38.31, 61.76], ['2014/06/06 04:00', None, None, 49.11833082004439, 37.31, 60.92], ['2014/06/06 05:00', None, None, 50.028737342638216, 38.97, 61.09], ['2014/06/06 06:00', None, None, 53.76938277034952, 44.11, 63.43], ['2014/06/06 07:00', None, None, 54.32369208890454, 44.3, 64.35], ['2014/06/06 08:00', None, None, 57.30578597818439, 47.76, 66.86], ['2014/06/06 09:00', None, None, 56.72789970873407, 47.56, 65.9], ['2014/06/06 10:00', None, None, 57.98317484752522, 49.39, 66.58], ['2014/06/06 11:00', None, None, 59.89080782312926, 51.08, 68.7], ['2014/06/06 12:00', None, None, 58.270642348893574, 49.31, 67.23], ['2014/06/06 13:00', None, None, 58.9243605833138, 49.99, 67.86], ['2014/06/06 14:00', None, None, 54.461210806161546, 45.04, 63.88], ['2014/06/06 15:00', None, None, 51.71957610055515, 41.84, 61.6], ['2014/06/06 16:00', None, None, 53.540985753012436, 43.03, 64.05], ['2014/06/06 17:00', None, None, 56.10927233935715, 45.71, 66.51], ['2014/06/06 18:00', None, None, 55.49140521459908, 45.37, 65.61], ['2014/06/06 19:00', None, None, 57.533811550703604, 47.59, 67.48], ['2014/06/06 20:00', None, None, 57.777111638091995, 47.73, 67.82], ['2014/06/06 21:00', None, None, 57.79403988786448, 48.38, 67.2], ['2014/06/06 22:00', None, None, 60.85659325156129, 49.0, 72.71], ['2014/06/06 23:00', None, None, 57.97110275432012, 48.42, 67.52], ['2014/06/07 00:00', None, None, 58.8125738107127, 46.4, 71.22], ['2014/06/07 01:00', None, None, 57.541655460249366, 45.17, 69.91], ['2014/06/07 02:00', None, None, 55.09499632368234, 42.96, 67.23], ['2014/06/07 03:00', None, None, 55.93863886934084, 39.36, 72.52], ['2014/06/07 04:00', None, None, 55.08628072178591, 42.82, 67.36], ['2014/06/07 05:00', None, None, 54.87318897099071, 39.23, 70.52], ['2014/06/07 06:00', None, None, 53.397336969270455, 39.73, 67.06], ['2014/06/07 07:00', None, None, 47.089527034951914, 32.91, 61.27], ['2014/06/07 08:00', None, None, 47.1774648135116, 33.67, 60.68], ['2014/06/07 09:00', None, None, 46.77151370318243, 33.8, 59.74], ['2014/06/07 10:00', None, None, 49.52081398076473, 37.37, 61.68], ['2014/06/07 11:00', None, None, 51.26911564625852, 38.81, 63.73], ['2014/06/07 12:00', None, None, 49.77396326921572, 37.1, 62.45], ['2014/06/07 13:00', None, None, 51.04372116662758, 38.41, 63.68], ['2014/06/07 14:00', None, None, 47.034385898037385, 33.72, 60.35], ['2014/06/07 15:00', None, None, 42.69843791539605, 28.73, 56.67], ['2014/06/07 16:00', None, None, 43.5755380361077, 30.01, 57.14], ['2014/06/07 17:00', None, None, 45.965198740551145, 33.07, 58.86], ['2014/06/07 18:00', None, None, 44.52886068119445, 32.04, 57.02], ['2014/06/07 19:00', None, None, 47.73808660512566, 35.44, 60.04], ['2014/06/07 20:00', None, None, 49.556938880573135, 35.4, 63.72], ['2014/06/07 21:00', None, None, 54.50566052391968, 41.85, 67.17], ['2014/06/07 22:00', None, None, 54.39845764454139, 40.95, 67.85], ['2014/06/07 23:00', None, None, 51.81881265149739, 38.31, 65.33]]
    return dumps(arrayTDT)

@route('/priceprofor/rest/ComboChart', method=['GET'])
def comboChart():
    '''
    '''
    dateTime = findLastDayDocumentTechnology()
    dic = tecnologiasDiarias(dateTime)
    dateString = str(str(dateTime.day)+'/'+str(dateTime.month)+'/'+str(dateTime.year))
    arrayTDT = [['Fechayhora', 'Datos', 'Modelo', 'Prediccion', {'role': 'interval', 'type': 'number'}, {'role': 'interval', 'type': 'number'}], ['2014/05/30 00:00', 54.7, 34.6081986856246, None, None, None], ['2014/05/30 01:00', 49.09, 30.893760328679402, None, None, None], ['2014/05/30 02:00', 46.58, 30.133627702774934, None, None, None], ['2014/05/30 03:00', 45.4, 27.794765863241846, None, None, None], ['2014/05/30 04:00', 44.25, 28.020351925341423, None, None, None], ['2014/05/30 05:00', 44.25, 27.66659448549535, None, None, None], ['2014/05/30 06:00', 45.4, 35.25616848463523, None, None, None], ['2014/05/30 07:00', 49.6, 46.8688706603331, None, None, None], ['2014/05/30 08:00', 55.0, 55.584178835327236, None, None, None], ['2014/05/30 09:00', 55.96, 55.272363994448355, None, None, None], ['2014/05/30 10:00', 54.74, 51.296031990382374, None, None, None], ['2014/05/30 11:00', 54.74, 50.69634353741497, None, None, None], ['2014/05/30 12:00', 55.96, 48.557785206036456, None, None, None], ['2014/05/30 13:00', 56.13, 47.032217726170934, None, None, None], ['2014/05/30 14:00', 52.69, 42.90317509187583, None, None, None], ['2014/05/30 15:00', 51.04, 40.32600467198373, None, None, None], ['2014/05/30 16:00', 49.53, 42.519492347611354, None, None, None], ['2014/05/30 17:00', 47.93, 44.51752632387348, None, None, None], ['2014/05/30 18:00', 46.58, 44.16111553588979, None, None, None], ['2014/05/30 19:00', 47.11, 42.50799782909118, None, None, None], ['2014/05/30 20:00', 49.09, 45.83030259078041, None, None, None], ['2014/05/30 21:00', 50.93, 51.47385261962219, None, None, None], ['2014/05/30 22:00', 50.3, 44.46669006706021, None, None, None], ['2014/05/30 23:00', 47.5, 46.84217418289154, None, None, None], ['2014/05/31 00:00', 48.6, 54.23030256589536, None, None, None], ['2014/05/31 01:00', 48.48, 51.784549279329696, None, None, None], ['2014/05/31 02:00', 44.25, 45.804395007057146, None, None, None], ['2014/05/31 03:00', 44.21, 52.22744443467042, None, None, None], ['2014/05/31 04:00', 41.26, 39.64366953332544, None, None, None], ['2014/05/31 05:00', 41.26, 50.76552305692392, None, None, None], ['2014/05/31 06:00', 42.0, 48.40366848463523, None, None, None], ['2014/05/31 07:00', 44.2, 46.848870660333105, None, None, None], ['2014/05/31 08:00', 44.2, 46.55292883532724, None, None, None], ['2014/05/31 09:00', 44.22, 49.597899708734076, None, None, None], ['2014/05/31 10:00', 44.25, 49.83603199038236, None, None, None], ['2014/05/31 11:00', 45.0, 50.68634353741496, None, None, None], ['2014/05/31 12:00', 47.8, 54.426356634607856, None, None, None], ['2014/05/31 13:00', 50.52, 58.2979320118852, None, None, None], ['2014/05/31 14:00', 47.16, 58.40692509187583, None, None, None], ['2014/05/31 15:00', 44.24, 57.88850467198374, None, None, None], ['2014/05/31 16:00', 41.95, 53.453940718017776, None, None, None], ['2014/05/31 17:00', 41.26, 52.235608715873205, None, None, None], ['2014/05/31 18:00', 39.12, 51.48936578962459, None, None, None], ['2014/05/31 19:00', 41.26, 54.44939764948355, None, None, None], ['2014/05/31 20:00', 44.22, 60.46871137972462, None, None, None], ['2014/05/31 21:00', 44.23, 62.51927505398392, None, None, None], ['2014/05/31 22:00', 44.22, 62.23655618726731, None, None, None], ['2014/05/31 23:00', 44.21, 62.69038846860585, None, None, None], ['2014/06/01 00:00', 36.5, 58.281225287574955, None, None, None], ['2014/06/01 01:00', 32.0, 55.4820743656713, None, None, None], ['2014/06/01 02:00', 29.8, 49.89892031969981, None, None, None], ['2014/06/01 03:00', 30.0, 52.284408720384704, None, None, None], ['2014/06/01 04:00', 30.0, 51.13866513422998, None, None, None], ['2014/06/01 05:00', 30.4, 50.951237342638194, None, None, None], ['2014/06/01 06:00', 30.13, 48.075097056063804, None, None, None], ['2014/06/01 07:00', 27.5, 51.37047780319024, None, None, None], ['2014/06/01 08:00', 32.0, 52.34364312104153, None, None, None], ['2014/06/01 09:00', 33.9, 53.09879256587693, None, None, None], ['2014/06/01 10:00', 38.5, 56.093353418953804, None, None, None], ['2014/06/01 11:00', 44.2, 57.85848639455782, None, None, None], ['2014/06/01 12:00', 44.21, 60.505642348893566, None, None, None], ['2014/06/01 13:00', 44.24, 60.51418201188522, None, None, None], ['2014/06/01 14:00', 44.21, 57.18728223473297, None, None, None], ['2014/06/01 15:00', 40.0, 53.92154038626945, None, None, None], ['2014/06/01 16:00', 35.34, 55.77038659662798, None, None, None], ['2014/06/01 17:00', 35.0, 55.997585671288256, None, None, None], ['2014/06/01 18:00', 35.0, 55.85101066032324, None, None, None], ['2014/06/01 19:00', 43.0, 56.26592457360239, None, None, None], ['2014/06/01 20:00', 44.25, 54.716265038961275, None, None, None], ['2014/06/01 21:00', 54.74, 64.42442981002053, None, None, None], ['2014/06/01 22:00', 56.86, 85.57689389781626, None, None, None], ['2014/06/01 23:00', 53.0, 56.57842418289153, None, None, None], ['2014/06/02 00:00', 45.5, 57.54739645882975, None, None, None], ['2014/06/02 01:00', 44.21, 55.131240030465, None, None, None], ['2014/06/02 02:00', 39.0, 52.86342234413929, None, None, None], ['2014/06/02 03:00', 39.0, 39.15155157752756, None, None, None], ['2014/06/02 04:00', 39.1, 52.81729160782449, None, None, None], ['2014/06/02 05:00', 44.21, 39.42034448549534, None, None, None], ['2014/06/02 06:00', 47.23, 43.11027562749237, None, None, None], ['2014/06/02 07:00', 46.58, 41.15869208890453, None, None, None], ['2014/06/02 08:00', 50.8, 51.60453597818438, None, None, None], ['2014/06/02 09:00', 54.1, 51.77736399444835, None, None, None], ['2014/06/02 10:00', 54.55, 51.56299627609664, None, None, None], ['2014/06/02 11:00', 54.74, 54.23741496598639, None, None, None], ['2014/06/02 12:00', 55.02, 53.06707092032215, None, None, None], ['2014/06/02 13:00', 54.87, 50.847217726170925, None, None, None], ['2014/06/02 14:00', 54.3, 49.129246520447246, None, None, None], ['2014/06/02 15:00', 52.7, 45.800468957698016, None, None, None], ['2014/06/02 16:00', 52.6, 45.324982313126256, None, None, None], ['2014/06/02 17:00', 51.48, 46.678483121030425, None, None, None], ['2014/06/02 18:00', 50.3, 44.922882581736815, None, None, None], ['2014/06/02 19:00', 50.27, 49.39720971241658, None, None, None], ['2014/06/02 20:00', 50.27, 43.64678261165378, None, None, None], ['2014/06/02 21:00', 54.55, 45.86431909906655, None, None, None], ['2014/06/02 22:00', 53.0, 43.366461686330105, None, None, None], ['2014/06/02 23:00', 49.06, 47.86770989717727, None, None, None], ['2014/06/03 00:00', 50.8, 50.67814694293074, None, None, None], ['2014/06/03 01:00', 48.6, 48.852561309619425, None, None, None], ['2014/06/03 02:00', 46.55, 48.69829092206204, None, None, None], ['2014/06/03 03:00', 46.23, 38.04351586324185, None, None, None], ['2014/06/03 04:00', 45.4, 49.160589463441546, None, None, None], ['2014/06/03 05:00', 46.55, 44.34034448549535, None, None, None], ['2014/06/03 06:00', 53.0, 47.955454198920954, None, None, None], ['2014/06/03 07:00', 54.5, 47.3876206603331, None, None, None], ['2014/06/03 08:00', 55.96, 51.97364312104152, None, None, None], ['2014/06/03 09:00', 56.74, 55.49754256587694, None, None, None], ['2014/06/03 10:00', 58.0, 55.769424847525215, None, None, None], ['2014/06/03 11:00', 56.34, 56.245450680272114, None, None, None], ['2014/06/03 12:00', 56.68, 57.21635663460788, None, None, None], ['2014/06/03 13:00', 55.96, 56.86293201188521, None, None, None], ['2014/06/03 14:00', 53.0, 55.41246080616155, None, None, None], ['2014/06/03 15:00', 50.3, 54.48082610055518, None, None, None], ['2014/06/03 16:00', 49.0, 52.783559628452686, None, None, None], ['2014/06/03 17:00', 48.94, 52.37181279148194, None, None, None], ['2014/06/03 18:00', 48.47, 51.07194745779705, None, None, None], ['2014/06/03 19:00', 48.97, 53.824948183888594, None, None, None], ['2014/06/03 20:00', 49.07, 57.71981049382996, None, None, None], ['2014/06/03 21:00', 53.0, 59.42406708762691, None, None, None], ['2014/06/03 22:00', 51.0, 54.43111366194731, None, None, None], ['2014/06/03 23:00', 46.0, 52.05860275432012, None, None, None], ['2014/06/04 00:00', 47.48, 52.286813108782496, None, None, None], ['2014/06/04 01:00', 44.95, 51.63151457197448, None, None, None], ['2014/06/04 02:00', 44.21, 47.2985684859604, None, None, None], ['2014/06/04 03:00', 44.21, 46.77976586324185, None, None, None], ['2014/06/04 04:00', 43.76, 48.862893645269224, None, None, None], ['2014/06/04 05:00', 44.21, 46.63391591406677, None, None, None], ['2014/06/04 06:00', 46.58, 54.88295419892094, None, None, None], ['2014/06/04 07:00', 48.6, 59.36190637461881, None, None, None], ['2014/06/04 08:00', 53.2, 60.06775026389868, None, None, None], ['2014/06/04 09:00', 53.23, 60.66039970873406, None, None, None], ['2014/06/04 10:00', 53.23, 62.8583534189538, None, None, None], ['2014/06/04 11:00', 53.23, 63.13223639455783, None, None, None], ['2014/06/04 12:00', 53.48, 64.01778520603644, None, None, None], ['2014/06/04 13:00', 53.0, 63.98436058331379, None, None, None], ['2014/06/04 14:00', 48.6, 62.036210806161534, None, None, None], ['2014/06/04 15:00', 48.11, 59.37618324341231, None, None, None], ['2014/06/04 16:00', 49.23, 58.98076009882335, None, None, None], ['2014/06/04 17:00', 51.57, 58.191411431095425, None, None, None], ['2014/06/04 18:00', 51.27, 55.07447499378408, None, None, None], ['2014/06/04 19:00', 52.65, 52.6270404333615, None, None, None], ['2014/06/04 20:00', 53.48, 46.383875040690796, None, None, None], ['2014/06/04 21:00', 56.12, 50.33511253887059, None, None, None], ['2014/06/04 22:00', 56.74, 48.899306715164265, None, None, None], ['2014/06/04 23:00', 54.87, 44.51235275432011, None, None, None], ['2014/06/05 00:00', 54.7, 50.17234366234551, None, None, None], ['2014/06/05 01:00', 53.3, 50.04993062328865, None, None, None], ['2014/06/05 02:00', 50.01, 46.98562057490885, None, None, None], ['2014/06/05 03:00', 49.48, 44.96030157752757, None, None, None], ['2014/06/05 04:00', 48.6, 48.126632648480935, None, None, None], ['2014/06/05 05:00', 48.6, 44.30320162835249, None, None, None], ['2014/06/05 06:00', 53.49, 46.925811341778086, None, None, None], ['2014/06/05 07:00', 53.1, 50.180299231761666, None, None, None], ['2014/06/05 08:00', 55.5, 52.27685740675581, None, None, None], ['2014/06/05 09:00', 55.5, 52.92807828016262, None, None, None], ['2014/06/05 10:00', 55.96, 51.85978199038237, None, None, None], ['2014/06/05 11:00', 57.0, 50.86437925170066, None, None, None], ['2014/06/05 12:00', 57.0, 52.0786780631793, None, None, None], ['2014/06/05 13:00', 55.3, 50.93632486902806, None, None, None], ['2014/06/05 14:00', 50.6, 45.35924652044727, None, None, None], ['2014/06/05 15:00', 46.58, 43.57689752912658, None, None, None], ['2014/06/05 16:00', 47.48, 44.748294959204415, None, None, None], ['2014/06/05 17:00', 50.0, 46.94254027402778, None, None, None], ['2014/06/05 18:00', 49.48, 48.04653358516495, None, None, None], ['2014/06/05 19:00', 51.02, 50.34628193946503, None, None, None], ['2014/06/05 20:00', 53.3, 53.719485767279146, None, None, None], ['2014/06/05 21:00', 55.5, 58.4495642253911, None, None, None], ['2014/06/05 22:00', 55.96, 55.947033842777884, None, None, None], ['2014/06/05 23:00', 52.0, 54.26895989717727, None, None, None], ['2014/06/06 00:00', None, None, 53.09554946742104, 41.62, 64.57], ['2014/06/06 01:00', None, None, 49.637466917858866, 37.92, 61.35], ['2014/06/06 02:00', None, None, 48.59861624339531, 37.02, 60.18], ['2014/06/06 03:00', None, None, 50.03262300609899, 38.31, 61.76], ['2014/06/06 04:00', None, None, 49.11833082004439, 37.31, 60.92], ['2014/06/06 05:00', None, None, 50.028737342638216, 38.97, 61.09], ['2014/06/06 06:00', None, None, 53.76938277034952, 44.11, 63.43], ['2014/06/06 07:00', None, None, 54.32369208890454, 44.3, 64.35], ['2014/06/06 08:00', None, None, 57.30578597818439, 47.76, 66.86], ['2014/06/06 09:00', None, None, 56.72789970873407, 47.56, 65.9], ['2014/06/06 10:00', None, None, 57.98317484752522, 49.39, 66.58], ['2014/06/06 11:00', None, None, 59.89080782312926, 51.08, 68.7], ['2014/06/06 12:00', None, None, 58.270642348893574, 49.31, 67.23], ['2014/06/06 13:00', None, None, 58.9243605833138, 49.99, 67.86], ['2014/06/06 14:00', None, None, 54.461210806161546, 45.04, 63.88], ['2014/06/06 15:00', None, None, 51.71957610055515, 41.84, 61.6], ['2014/06/06 16:00', None, None, 53.540985753012436, 43.03, 64.05], ['2014/06/06 17:00', None, None, 56.10927233935715, 45.71, 66.51], ['2014/06/06 18:00', None, None, 55.49140521459908, 45.37, 65.61], ['2014/06/06 19:00', None, None, 57.533811550703604, 47.59, 67.48], ['2014/06/06 20:00', None, None, 57.777111638091995, 47.73, 67.82], ['2014/06/06 21:00', None, None, 57.79403988786448, 48.38, 67.2], ['2014/06/06 22:00', None, None, 60.85659325156129, 49.0, 72.71], ['2014/06/06 23:00', None, None, 57.97110275432012, 48.42, 67.52], ['2014/06/07 00:00', None, None, 58.8125738107127, 46.4, 71.22], ['2014/06/07 01:00', None, None, 57.541655460249366, 45.17, 69.91], ['2014/06/07 02:00', None, None, 55.09499632368234, 42.96, 67.23], ['2014/06/07 03:00', None, None, 55.93863886934084, 39.36, 72.52], ['2014/06/07 04:00', None, None, 55.08628072178591, 42.82, 67.36], ['2014/06/07 05:00', None, None, 54.87318897099071, 39.23, 70.52], ['2014/06/07 06:00', None, None, 53.397336969270455, 39.73, 67.06], ['2014/06/07 07:00', None, None, 47.089527034951914, 32.91, 61.27], ['2014/06/07 08:00', None, None, 47.1774648135116, 33.67, 60.68], ['2014/06/07 09:00', None, None, 46.77151370318243, 33.8, 59.74], ['2014/06/07 10:00', None, None, 49.52081398076473, 37.37, 61.68], ['2014/06/07 11:00', None, None, 51.26911564625852, 38.81, 63.73], ['2014/06/07 12:00', None, None, 49.77396326921572, 37.1, 62.45], ['2014/06/07 13:00', None, None, 51.04372116662758, 38.41, 63.68], ['2014/06/07 14:00', None, None, 47.034385898037385, 33.72, 60.35], ['2014/06/07 15:00', None, None, 42.69843791539605, 28.73, 56.67], ['2014/06/07 16:00', None, None, 43.5755380361077, 30.01, 57.14], ['2014/06/07 17:00', None, None, 45.965198740551145, 33.07, 58.86], ['2014/06/07 18:00', None, None, 44.52886068119445, 32.04, 57.02], ['2014/06/07 19:00', None, None, 47.73808660512566, 35.44, 60.04], ['2014/06/07 20:00', None, None, 49.556938880573135, 35.4, 63.72], ['2014/06/07 21:00', None, None, 54.50566052391968, 41.85, 67.17], ['2014/06/07 22:00', None, None, 54.39845764454139, 40.95, 67.85], ['2014/06/07 23:00', None, None, 51.81881265149739, 38.31, 65.33]]

    ''' json.dumps interpreta "None" de python como "null" para google '''
    return template('priceprofor_modelos_prediccion',
                    modelosPrediccionList=dumps(arrayTDT),
                    fecha=dateString,
                    mensaje=dic['mensaje'],
                    )
