<!doctype html>
<html lang="en">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Price Profor Engine: ReportDay</title>
        <link id="data-uikit-theme" rel="stylesheet" href="/vendor/uikit/css/uikit.css">
        <link id="data-uikit-theme" rel="stylesheet" href="/vendor/uikit/css/uikit.almost-flat.css">
        <link id="data-uikit-theme" rel="stylesheet" href="/vendor/uikit/css/components/datepicker.css">
        <link id="data-uikit-theme" rel="stylesheet" href="/vendor/uikit/css/components/accordion.css">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
        <script src="/vendor/uikit/js/uikit.min.js"></script>
        <script src="/vendor/uikit/js/components/grid.js"></script>
        <script src="/vendor/uikit/js/components/datepicker.js"></script>
        <script src="/vendor/uikit/js/components/accordion.js"></script>
</head>
<body ng-app="CollectionStatus">
<div class="uk-container uk-container-center" ng-controller="Status">
    <p></p>
    <div class="uk-grid-width-small-1-2 uk-grid-width-medium-1-2" data-uk-grid="">
        <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title"><strong>PreciosWeb</strong></h3>
        <dl class="uk-description-list-horizontal">
            <dt>{{statusdata.PreciosWeb.startrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Primero Registro</dd>
            <dt>{{statusdata.PreciosWeb.endrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Ultimo Registro</dd>
            <dt>{{statusdata.PreciosWeb.numofrecord}}</dt>
            <dd>Numero de Registros</dd>
        </dl>
        </div>
        <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title"><strong>EnergiaGestionadaWeb</strong></h3>
        <dl class="uk-description-list-horizontal">
            <dt>{{statusdata.EnergiaGestionadaWeb.startrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Primero Registro</dd>
            <dt>{{statusdata.EnergiaGestionadaWeb.endrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Ultimo Registro</dd>
            <dt>{{statusdata.EnergiaGestionadaWeb.numofrecord}}</dt>
            <dd>Numero de Registros:</dd>
        </dl>
        </div>
        <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title"><strong>TecnologiasWeb</strong></h3>
        <dl class="uk-description-list-horizontal">
            <dt>{{statusdata.TecnologiasWeb.startrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Primero Registro</dd>
            <dt>{{statusdata.TecnologiasWeb.endrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Ultimo Registro</dd>
            <dt>{{statusdata.TecnologiasWeb.numofrecord}}</dt>
            <dd>Numero de Registros</dd>
        </dl>
        </div>
        <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title"><strong>StudyDataMIBEL</strong></h3>
        <dl class="uk-description-list-horizontal">
            <dt>{{statusdata.StudyDataMIBEL.startrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Primero Registro</dd>
            <dt>{{statusdata.StudyDataMIBEL.endrecdate.substring(0, 10)}}</dt>
            <dd>Fecha del Ultimo Registro</dd>
            <dt>{{statusdata.StudyDataMIBEL.numofrecord}}</dt>
            <dd>Numero de Registros</dd>
        </dl>
        </div>
    </div>
<input class="uk-button uk-margin-bottom uk-width-1-1 uk-button-success" type="button" ng-click="updatedb()" value="Actualizar Registros"/>
</div >
</body>
<script>
    var app = angular.module('CollectionStatus', []);
    // DataFileGenerator FormController!
    app.controller('Status',
        function ($scope, $http) {
            $scope.status = function() {
                $http.get('/omieinfosys/status',
                {
                     headers: {'Accept': "application/json;charset=UTF-8"}
                }
                    ).
                success(function(data, status, headers, config) {
                    $scope.statusdata = data;

                })
                .error(function(data, status, headers, config) {
                // called asynchronously if an error occurs
                // or server returns response with an error status.
                });
            };
            $scope.status();
            $scope.updatedb = function() {
                $http.get('/omieinfosys/updatedb',
                {
                     headers: {'Accept': "application/json;charset=UTF-8"}
                }
                    ).
                success(function(data, status, headers, config) {
                    $scope.status();
                })
                .error(function(data, status, headers, config) {
                // called asynchronously if an error occurs
                // or server returns response with an error status.
                });
             }
            

        }
    );
        

</script>
</html>